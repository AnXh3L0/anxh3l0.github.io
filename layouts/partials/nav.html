<div class="pointer-events-auto md:hidden">
  <button class="mobile-menu-button group flex items-center rounded-full bg-white/90 px-4 py-2 text-sm font-medium text-zinc-800 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:text-zinc-200 dark:ring-white/10 dark:hover:ring-white/20"
          type="button" 
          aria-expanded="false"
          aria-label="{{ i18n "toggle_menu" }}">
    {{ i18n "menu" }}
    <svg viewBox="0 0 8 6" aria-hidden="true" class="ml-3 h-auto w-2 stroke-zinc-500 group-hover:stroke-zinc-700 dark:group-hover:stroke-zinc-400">
      <path d="M1.75 1.75 4 4.25l2.25-2.5" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </button>
</div>

<div class="mobile-menu-backdrop pointer-events-auto fixed inset-0 z-50 opacity-0 backdrop-blur-sm transition-opacity duration-150 data-[enter]:ease-out data-[leave]:ease-in dark:bg-black/80"
     style="display: none; background-color: rgba(39, 39, 42, 0.4);"></div>
     
<div class="mobile-menu-panel pointer-events-auto fixed inset-x-4 top-8 z-50 origin-top scale-95 rounded-3xl bg-white p-8 opacity-0 ring-1 ring-zinc-900/5 transition-all duration-150 data-[enter]:ease-out data-[leave]:ease-in dark:bg-zinc-900 dark:ring-zinc-800" style="display: none;">
  <div class="flex flex-row-reverse items-center justify-between">
    <button class="mobile-menu-close -m-1 p-1" aria-label="{{ i18n "close_menu" }}">
      <svg viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6 text-zinc-500 dark:text-zinc-400">
        <path d="m17.25 6.75-10.5 10.5M6.75 6.75l10.5 10.5" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    <h2 class="text-sm font-medium text-zinc-600 dark:text-zinc-400">{{ i18n "navigation" }}</h2>
  </div>
  <nav class="mt-6">
    <ul class="-my-2 divide-y divide-zinc-100 text-base text-zinc-800 dark:divide-zinc-100/5 dark:text-zinc-300">
      {{ $currentPage := . }}
      {{ range site.Sections }}
        <li>
          <a href="{{ .RelPermalink }}" 
              class="block py-2 transition hover:text-teal-500 dark:hover:text-teal-400 {{ if eq $currentPage.RelPermalink .RelPermalink }}text-teal-500 dark:text-teal-400{{ end }}"
              {{ if eq $currentPage.RelPermalink .RelPermalink }}aria-current="page"{{ end }}>
            {{ .Title }}
          </a>
        </li>
      {{ end }}
    </ul>
  </nav>
</div>

<nav class="pointer-events-auto hidden md:block">
  <ul class="flex rounded-full bg-white/90 px-3 text-sm font-medium text-zinc-800 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:text-zinc-200 dark:ring-white/10">
    {{ $currentPage := . }}
    {{ range site.Sections }}
      <li class="min-w-max">
        <a href="{{ .RelPermalink }}" 
            class="relative block px-3 py-2 transition hover:text-teal-500 dark:hover:text-teal-400 {{ if eq $currentPage.RelPermalink .RelPermalink }}text-teal-500 dark:text-teal-400{{ end }}"
            {{ if eq $currentPage.RelPermalink .RelPermalink }}aria-current="page"{{ end }}>
          {{ .Title }}
          {{ if eq $currentPage.RelPermalink .RelPermalink }}
            <span class="absolute inset-x-1 -bottom-px h-px bg-gradient-to-r from-teal-500/0 via-teal-500/40 to-teal-500/0 dark:from-teal-400/0 dark:via-teal-400/40 dark:to-teal-400/0"></span>
          {{ end }}
        </a>
      </li>
    {{ end }}
  </ul>
</nav>